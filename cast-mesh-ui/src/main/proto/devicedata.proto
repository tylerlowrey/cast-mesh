syntax = "proto3";

package device.data;

option java_package = "com.tylerlowrey.grpc.device.data";
option java_outer_classname = "DataCollectionProto";

service DataCollectionService {
  rpc sendData(DataPoint) returns (DataReceivedResponse);
}

message DataPoint {
  repeated string datatypes = 1;
  map<string, string> values = 2;
}

message DataReceivedResponse {
  enum StatusCode {
    SUCCESS = 0;
    BAD_PAYLOAD = 1;
    DATATYPE_MISMATCH = 2;
  }

  StatusCode statusCode = 1;
}